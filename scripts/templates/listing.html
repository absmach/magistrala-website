<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog - {{ .Site.Name }}</title>

    <meta name="description" content="{{ .Site.Description }}" />
    <meta property="og:title" content="Blog - {{ .Site.Name }}" />
    <meta property="og:description" content="{{ .Site.Description }}" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ .Site.Url }}/blog" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/assets/css/blog.css" />

    <style>
      :root {
        --primary-color: {{ .Config.Theme.PrimaryColor }};
        --font-family: {{ .Config.Theme.FontFamily }};
      }
      body {
        font-family: var(--font-family);
      }
      .hover-lift {
        transition: transform 0.2s, box-shadow 0.2s;
      }
      .hover-lift:hover {
        transform: translateY(-4px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      }
      .card {
        height: 100%;
      }
      .card-img-top {
        height: 200px;
        object-fit: cover;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
      <div class="container">
        <a class="navbar-brand fw-bold" href="/">{{ .Site.Name }}</a>
      </div>
    </nav>

    <div class="container py-5">
      <div class="text-center mb-5">
        <h1 class="display-4 fw-bold">Blog</h1>
        <p class="lead text-muted">{{ .Site.Description }}</p>
      </div>

      {{ if .Posts }}
      <div class="row g-4">
        {{ range .Posts }}
        <div class="col-md-6 col-lg-4">
          <article class="card h-100 shadow-sm hover-lift">
            <a
              href="/blog/posts/{{ .Slug }}.html"
              class="text-decoration-none"
            >
              {{ if .Frontmatter.CoverImage }}
              <img
                src="{{ .Frontmatter.CoverImage }}"
                class="card-img-top"
                alt="{{ .Frontmatter.Title }}"
                loading="lazy"
                onerror="this.style.display = 'none'"
              />
              {{ end }}

              <div class="card-body">
                <div class="mb-2">
                  <span class="badge bg-{{ .CategoryColor }} me-2">
                    {{ if .Frontmatter.Category }}{{ .Frontmatter.Category }}{{ else }}blog{{ end }}
                  </span>
                  {{ if eq .Frontmatter.Featured "main" }}
                  <span class="badge bg-warning text-dark">Featured</span>
                  {{ end }}
                </div>

                <h2 class="card-title h5 text-dark">
                  {{ .Frontmatter.Title }}
                </h2>
                <p class="card-text text-muted small">
                  {{ .Frontmatter.Excerpt }}
                </p>

                <div class="d-flex align-items-center mt-3">
                  <img
                    src="{{ .Frontmatter.Author.Picture }}"
                    alt="{{ .Frontmatter.Author.Name }}"
                    class="rounded-circle me-2"
                    width="32"
                    height="32"
                    loading="lazy"
                    onerror="this.onerror=null; this.src = '/assets/team/default-avatar.jpg'"
                  />
                  <div class="small">
                    <div class="fw-semibold text-dark">
                      {{ .Frontmatter.Author.Name }}
                    </div>
                    <div class="text-muted">
                      {{ .FormattedDate }} Â· {{ if .Frontmatter.ReadingTime }}{{ .Frontmatter.ReadingTime }}{{ else }}5 min{{ end }}
                    </div>
                  </div>
                </div>

                <div class="mt-3">
                  {{ range .Frontmatter.Tags }}
                  <span class="badge bg-light text-dark me-1">{{ . }}</span>
                  {{ end }}
                </div>
              </div>
            </a>
          </article>
        </div>
        {{ end }}
      </div>
      {{ else }}
      <div class="text-center py-5">
        <p class="text-muted">
          No blog posts yet. Create your first post in
          <code>content/blog/</code>
        </p>
      </div>
      {{ end }}
    </div>

    <footer class="bg-light py-4 mt-5">
      <div class="container text-center text-muted">
        <p class="mb-0">
          &copy; {{ .CurrentYear }} {{ .Site.Name }}. All rights reserved.
        </p>
      </div>
    </footer>
  </body>
</html>
